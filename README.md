# –°–∏—Å—Ç–µ–º–∞ –∞—É–∫—Ü–∏–æ–Ω–∞ —Ä–æ–±—É–∫—Å–æ–≤

Backend-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –∞—É–∫—Ü–∏–æ–Ω–∞, –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–π Telegram Gift Auctions.

## üöÄ –î–µ–º–æ

- **–ü—Ä–æ–¥–∞–∫—à–Ω-–≤–µ—Ä—Å–∏—è**: [https://ygth-romansf.waw0.amvera.tech/](https://ygth-romansf.waw0.amvera.tech/)
- **–î–µ–º–æ-–≤–∏–¥–µ–æ**: [https://youtu.be/4hnaQqD5o_I](https://youtu.be/4hnaQqD5o_I)

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫–æ–Ω–∫—É—Ä—Å–∞

‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**

- Backend-–ª–æ–≥–∏–∫–∞ –∞—É–∫—Ü–∏–æ–Ω–∞ (—Ä–∞—É–Ω–¥—ã, —Å—Ç–∞–≤–∫–∏, —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ, anti-sniping, —Ä–∞–±–æ—Ç–∞ —Å –±–∞–ª–∞–Ω—Å–æ–º)
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π UI –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ (React frontend)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π (load test, stress test)
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –¥–µ–Ω—å–≥–∞–º–∏ (–∞—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏)
- –£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–º –∑–∞–ø—Ä–æ—Å–∞–º (—É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã, –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ edge-cases (—Å—Ç–∞–≤–∫–∏ –≤ –ø–æ—Å–ª–µ–¥–Ω—é—é —Å–µ–∫—É–Ω–¥—É, –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã)
- –ü–æ–Ω—è—Ç–Ω–æ—Å—Ç—å –ø—Ä–∏–Ω—è—Ç—ã—Ö —Ä–µ—à–µ–Ω–∏–π (–ø–æ–¥—Ä–æ–±–Ω—ã–π README, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ)
- –ü—É–±–ª–∏—á–Ω—ã–π GitHub-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- README —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –º–µ—Ö–∞–Ω–∏–∫–∏ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- Docker-compose –¥–ª—è –∑–∞–ø—É—Å–∫–∞
- –¢–µ—Å—Ç—ã (unit –∏ integration)

## –û–ø–∏—Å–∞–Ω–∏–µ –º–µ—Ö–∞–Ω–∏–∫–∏

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –≠—Ç–æ —Å–∏–º—É–ª—è—Ü–∏—è –∞—É–∫—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø—Ä–æ—Å—Ç–æ–π —Å–∞–π—Ç —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ –∑–∞–≥–æ–ª–æ–≤–æ–∫ `X-User-Id`.

- –î–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ `userId` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `localStorage`
- –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É ‚öôÔ∏è –≤ —Ö–µ–¥–µ—Ä–µ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
- –í production –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å Telegram MiniApp (–∏—Å–ø–æ–ª—å–∑—É—è `initData` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ `hash` –∏ –ø–æ–ª—É—á–µ–Ω–∏—è `telegramId`) –∏–ª–∏ –¥—Ä—É–≥–æ–π —Å–∏—Å—Ç–µ–º–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞

- **–†–∞—É–Ω–¥—ã**: –ê—É–∫—Ü–∏–æ–Ω —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ä–∞—É–Ω–¥–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 30 —Ä–∞—É–Ω–¥–æ–≤), –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∫–∞–∂–¥—ã–µ 60 –º–∏–Ω—É—Ç
- **–ü–æ–±–µ–¥–∏—Ç–µ–ª–∏**: –í –∫–∞–∂–¥–æ–º —Ä–∞—É–Ω–¥–µ –ø–æ–±–µ–∂–¥–∞—é—Ç —Ç–æ–ø-100 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ —Å—É–º–º–µ —Å—Ç–∞–≤–∫–∏ (–Ω–∞ –º–æ–º–µ–Ω—Ç –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ä–∞—É–Ω–¥–∞)
- **–ü—Ä–∏–∑**: –ö–∞–∂–¥—ã–π –ø–æ–±–µ–¥–∏—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç 1000 —Ä–æ–±—É–∫—Å–æ–≤ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∞—É–∫—Ü–∏–æ–Ω–∞)
- **–°—Ç–∞–≤–∫–∏**:
  - –î–µ–Ω—å–≥–∏ —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è —Å—Ä–∞–∑—É –ø—Ä–∏ —Ä–∞–∑–º–µ—â–µ–Ω–∏–∏ —Å—Ç–∞–≤–∫–∏
  - –û–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å = –æ–¥–Ω–∞ —Å—Ç–∞–≤–∫–∞ –≤ —Ä–∞—É–Ω–¥–µ (–ø—Ä–∏ –ø–æ–≤—ã—à–µ–Ω–∏–∏ —Å—Ç–∞—Ä–∞—è –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é)
  - –ú–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å —Å—Ç–∞–≤–∫—É –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –≤–æ –≤—Ä–µ–º—è —Ä–∞—É–Ω–¥–∞
  - **Anti-sniping**: –ï—Å–ª–∏ —Å—Ç–∞–≤–∫–∞ —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 —Å–µ–∫—É–Ω–¥ —Ä–∞—É–Ω–¥–∞, —Ä–∞—É–Ω–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–¥–ª–µ–≤–∞–µ—Ç—Å—è –Ω–∞ 30 —Å–µ–∫—É–Ω–¥
- **–ü–µ—Ä–µ–Ω–æ—Å**: –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –ø–æ–ø–∞–ª –≤ —Ç–æ–ø-100, –µ–≥–æ —Å—Ç–∞–≤–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞—É–Ω–¥ (–±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Å–ø–∏—Å–∞–Ω–∏—è)
- **–í–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤**: –í–æ–∑–≤—Ä–∞—Ç –¥–µ–Ω–µ–≥ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è –≤—Å–µ–≥–æ –∞—É–∫—Ü–∏–æ–Ω–∞, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤—ã–∏–≥—Ä–∞–ª –Ω–∏ –≤ –æ–¥–Ω–æ–º —Ä–∞—É–Ω–¥–µ

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –∏ –¥–æ–ø—É—â–µ–Ω–∏—è

1. **–û–¥–∏–Ω –∞–∫—Ç–∏–≤–Ω—ã–π –∞—É–∫—Ü–∏–æ–Ω**: –í —Å–∏—Å—Ç–µ–º–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∞–∫—Ç–∏–≤–Ω—ã–π –∞—É–∫—Ü–∏–æ–Ω –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
2. **–†–∞—É–Ω–¥—ã –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é**: –ù–æ–≤—ã–π —Ä–∞—É–Ω–¥ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 60 –º–∏–Ω—É—Ç (–∏–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É —Å—Ç–∞—Ä—Ç–∞–º–∏)
3. **–§–∏–∫—Å–∞—Ü–∏—è –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π**: –ü–æ–±–µ–¥–∏—Ç–µ–ª–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –ø–æ —Å–Ω–∏–º–∫—É —Ç–æ–ø-100 –≤ –º–æ–º–µ–Ω—Ç –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ä–∞—É–Ω–¥–∞
4. **–ê—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π**: –û–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏ –±–∞–ª–∞–Ω—Å–∞ –¥–æ —Å–ø–∏—Å–∞–Ω–∏—è. –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã MongoDB –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—é—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã —Å—Ç–∞–≤–æ–∫.
5. **–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å**:
   - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π —Å–æ—Å—Ç–∞–≤–Ω–æ–π –∏–Ω–¥–µ–∫—Å (userId + roundId) –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ç–∞–≤–∫–∏ –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –æ–¥–Ω–æ–º —Ä–∞—É–Ω–¥–µ
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–æ —Å–ø–∏—Å–∞–Ω–∏—è —Å—Ä–µ–¥—Å—Ç–≤
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —á–µ—Ä–µ–∑ –ø–æ–ª–µ version –≤ –º–æ–¥–µ–ª–∏ Bet
   - –í production —Å replica set –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å MongoDB —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–ª—è –ø–æ–ª–Ω–æ–π –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ –æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö**: –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è standalone MongoDB –±–µ–∑ replica set, –ø–æ—ç—Ç–æ–º—É —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –æ—Ç–∫–ª—é—á–µ–Ω—ã. –í production —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å replica set –∏ –≤–∫–ª—é—á–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (BET).

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ –æ Redis**: Redis –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è rate limiting –∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è. –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å graceful degradation - –µ—Å–ª–∏ Redis –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è in-memory fallback –¥–ª—è rate limiting, –Ω–æ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è.

### –ü–æ–≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏

- **–°—Ç–∞–≤–∫–∞ –≤ –ø–æ—Å–ª–µ–¥–Ω—é—é —Å–µ–∫—É–Ω–¥—É —Ä–∞—É–Ω–¥–∞**: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å —Ä–∞—É–Ω–¥–∞ –∏ –≤—Ä–µ–º—è –¥–æ —Å–ø–∏—Å–∞–Ω–∏—è
- **–û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ç–∞–≤–∫–∏ –æ—Ç –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**: –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—é—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –∏–Ω–¥–µ–∫—Å–æ–º (userId + roundId)
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞**: –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–æ —Å–ø–∏—Å–∞–Ω–∏—è —Å—Ä–µ–¥—Å—Ç–≤, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—è –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å
- **–ü–µ—Ä–µ–Ω–æ—Å —Å—Ç–∞–≤–∫–∏ –≤ –Ω–æ–≤—ã–π —Ä–∞—É–Ω–¥**: –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏ –∏ –∞—Ç–æ–º–∞—Ä–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ –ë–î
- **–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –±–∞–ª–∞–Ω—Å**: –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–µ—Ä–µ–¥ –ª—é–±–æ–π –æ–ø–µ—Ä–∞—Ü–∏–µ–π —Å–ø–∏—Å–∞–Ω–∏—è

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Backend**: Node.js, TypeScript, Express, MongoDB (Mongoose + Native Driver), Redis, Bull (–æ—á–µ—Ä–µ–¥–∏)
- **Frontend**: React, Vite, TypeScript, React Router, Axios
- **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: Docker, Docker Compose
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**:
  - Rate limiting (Redis-based —Å fallback –Ω–∞ in-memory)
  - –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
  - –ó–∞—â–∏—Ç–∞ –æ—Ç XSS
  - CORS —Å whitelist
  - Helmet –¥–ª—è –±–∞–∑–æ–≤—ã—Ö –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**:
  - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —É—Ä–æ–≤–Ω—è–º–∏
  - –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
  - Health check endpoints
- **–í–∞–ª–∏–¥–∞—Ü–∏—è**: Zod —Å—Ö–µ–º—ã –¥–ª—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker –∏ Docker Compose
- Node.js 18+ (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å Docker

#### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (—Å hot-reload)

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/fornamess/tgsendauction.git
cd tgsendauction

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
docker-compose up -d

# Backend –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:3000
# Frontend –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:5173
# MongoDB –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –Ω–∞ localhost:27017
# Redis –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ localhost:6379
```

#### –î–ª—è production

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å production –≤–µ—Ä—Å–∏—é
docker-compose -f docker-compose.prod.yml up -d

# –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ http://localhost:80
# Backend API –Ω–∞ http://localhost:3000
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ü—Ä–æ–¥–∞–∫—à–Ω-–≤–µ—Ä—Å–∏—è —Ç–∞–∫–∂–µ –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É: [https://ygth-romansf.waw0.amvera.tech/](https://ygth-romansf.waw0.amvera.tech/)

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

#### Backend

```bash
cd backend
npm install

# –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª .env (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
# NODE_ENV=development
# PORT=3000
# MONGODB_URI=mongodb://localhost:27017/auction_db

npm run dev
```

Backend –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http://localhost:3000`

#### Frontend

```bash
cd frontend
npm install
npm run dev
```

Frontend –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http://localhost:5173`

#### MongoDB –∏ Redis (–µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Docker)

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:

- MongoDB –∑–∞–ø—É—â–µ–Ω–∞ –Ω–∞ `localhost:27017` –∏–ª–∏ —É–∫–∞–∂–∏—Ç–µ –¥—Ä—É–≥–æ–π URI –≤ `.env` —Ñ–∞–π–ª–µ backend
- Redis –∑–∞–ø—É—â–µ–Ω –Ω–∞ `localhost:6379` –∏–ª–∏ —É–∫–∞–∂–∏—Ç–µ –¥—Ä—É–≥–æ–π URL –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è `REDIS_URL`

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: Redis –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è rate limiting –∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è. –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å graceful degradation - –µ—Å–ª–∏ Redis –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è in-memory fallback –¥–ª—è rate limiting.

## API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### Endpoints

#### –ê—É–∫—Ü–∏–æ–Ω

- `GET /api/auction/current` - –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π –∞–∫—Ç–∏–≤–Ω—ã–π –∞—É–∫—Ü–∏–æ–Ω
  –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã–π –∞—É–∫—Ü–∏–æ–Ω –∏–ª–∏ 404, –µ—Å–ª–∏ –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–≥–æ

- `GET /api/auction/all` - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∞—É–∫—Ü–∏–æ–Ω—ã (–¥–ª—è –∞–¥–º–∏–Ω–∫–∏)
  –ó–∞–≥–æ–ª–æ–≤–∫–∏: `X-User-Id: admin`

- `GET /api/auction/:auctionId` - –ü–æ–ª—É—á–∏—Ç—å –∞—É–∫—Ü–∏–æ–Ω –ø–æ ID
  –ó–∞–≥–æ–ª–æ–≤–∫–∏: `X-User-Id: user123`

- `POST /api/auction` - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∞—É–∫—Ü–∏–æ–Ω
  –ó–∞–≥–æ–ª–æ–≤–∫–∏: `X-User-Id: admin`

  ```json
  {
    "name": "–ê—É–∫—Ü–∏–æ–Ω —Ä–æ–±—É–∫—Å–æ–≤ #1",
    "rewardAmount": 1000,
    "winnersPerRound": 100,
    "totalRounds": 30,
    "roundDurationMinutes": 60
  }
  ```

  –í—Å–µ –ø–æ–ª—è –∫—Ä–æ–º–µ `name` –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

- `POST /api/auction/:auctionId/start` - –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞—É–∫—Ü–∏–æ–Ω
  –ó–∞–≥–æ–ª–æ–≤–∫–∏: `X-User-Id: admin`

- `POST /api/auction/:auctionId/end` - –ó–∞–≤–µ—Ä—à–∏—Ç—å –∞—É–∫—Ü–∏–æ–Ω –∏ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤–æ–∑–≤—Ä–∞—Ç—ã
  –ó–∞–≥–æ–ª–æ–≤–∫–∏: `X-User-Id: admin`

#### –†–∞—É–Ω–¥—ã

- `GET /api/round/current` - –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π —Ä–∞—É–Ω–¥ —Å —Ç–æ–ø-100
- `GET /api/round/:roundId` - –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–∞—É–Ω–¥–µ
- `POST /api/round/current/end` - –ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ–∫—É—â–∏–π —Ä–∞—É–Ω–¥ –≤—Ä—É—á–Ω—É—é (–∞–¥–º–∏–Ω)
  –ó–∞–≥–æ–ª–æ–≤–∫–∏: `X-User-Id: admin`
- `POST /api/round/next` - –°–æ–∑–¥–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞—É–Ω–¥ –≤—Ä—É—á–Ω—É—é (–∞–¥–º–∏–Ω)
  –ó–∞–≥–æ–ª–æ–≤–∫–∏: `X-User-Id: admin`

#### –°—Ç–∞–≤–∫–∏

- `POST /api/bet` - –†–∞–∑–º–µ—Å—Ç–∏—Ç—å –∏–ª–∏ –ø–æ–≤—ã—Å–∏—Ç—å —Å—Ç–∞–≤–∫—É

  ```json
  {
    "roundId": "64f1a2b3c4d5e6f7g8h9i0j1",
    "amount": 10000
  }
  ```

  –ó–∞–≥–æ–ª–æ–≤–∫–∏: `X-User-Id: user123`

- `GET /api/bet/my?roundId=...` - –ü–æ–ª—É—á–∏—Ç—å —Å–≤–æ—é —Å—Ç–∞–≤–∫—É –≤ —Ä–∞—É–Ω–¥–µ
  –ó–∞–≥–æ–ª–æ–≤–∫–∏: `X-User-Id: user123`

#### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

- `GET /api/user/me` - –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  –ó–∞–≥–æ–ª–æ–≤–∫–∏: `X-User-Id: user123`
  –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∏—Å—Ç–æ—Ä–∏—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∏ —Å—Ç–∞–≤–æ–∫

- `POST /api/user/deposit` - –ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å (–¥–ª—è —Ç–µ—Å—Ç–æ–≤)
  –ó–∞–≥–æ–ª–æ–≤–∫–∏: `X-User-Id: user123`

  ```json
  {
    "amount": 50000
  }
  ```

- `GET /api/user/:userId` - –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID

#### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- `GET /api/stats` - –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∞—É–∫—Ü–∏–æ–Ω–∞

#### –°–∏—Å—Ç–µ–º–Ω—ã–µ

- `GET /health` - Health check endpoint
- `GET /metrics` - –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –±–æ—Ç–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ—Ç–æ–≤ –∏–∑ –ø–∞–ø–∫–∏ `bots/`:

```bash
cd bots
npm install
npm start
```

–ë–æ—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ª–∞—é—Ç —Å—Ç–∞–≤–∫–∏, –≤–∫–ª—é—á–∞—è –ø—Ä–æ–≤–µ—Ä–∫—É anti-sniping –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ (—Å—Ç–∞–≤–∫–∏ –≤ –ø–æ—Å–ª–µ–¥–Ω—é—é —Å–µ–∫—É–Ω–¥—É —Ä–∞—É–Ω–¥–∞).

#### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–æ–≤

```bash
# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–æ—Ç–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 10)
NUM_BOTS=20 npm start

# –ù–∞—á–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å –∫–∞–∂–¥–æ–≥–æ –±–æ—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 50000)
INITIAL_DEPOSIT=100000 npm start

# URL API (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: http://localhost:3000)
API_URL=http://localhost:3000 npm start
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ë–æ—Ç—ã —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `load_test_` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ö–æ–¥—è—Ç rate limiting –¥–ª—è –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

### –°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã:

```bash
cd bots
npm install
npm run stress
```

#### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç–∞

```bash
# –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫ (100 –±–æ—Ç–æ–≤, 500 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å—Ç–∞–≤–æ–∫, 5 —Ä–∞—É–Ω–¥–æ–≤)
npm run stress

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –±–æ—Ç–æ–≤ –∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
NUM_BOTS=200 NUM_CONCURRENT=1000 npm run stress

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ —Å—Ç–∞–≤–æ–∫
BET_MIN=5000 BET_MAX=100000 npm run stress

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–∞—É–Ω–¥–æ–≤ –∏ –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –Ω–∏–º–∏
ROUNDS=10 DELAY=5000 npm run stress

# –ü–æ–ª–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
NUM_BOTS=200 \
NUM_CONCURRENT=1000 \
BET_MIN=1000 \
BET_MAX=50000 \
ROUNDS=5 \
DELAY=2000 \
API_URL=http://localhost:3000 \
npm run stress
```

#### –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç

- **–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**: –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ —Å—Ç–∞–≤–æ–∫
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ò–∑–º–µ—Ä—è–µ—Ç RPS (–∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É) –∏ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
- **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å**: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π –∏ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫
- **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å**: –í—ã–ø–æ–ª–Ω—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞—É–Ω–¥–æ–≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏

#### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

–°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç –≤—ã–≤–æ–¥–∏—Ç:

- –û–±—â–µ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Å–ø–µ—à–Ω—ã—Ö/–Ω–µ—É–¥–∞—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- RPS (–∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É)
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –ø–æ —Ç–∏–ø–∞–º
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –∫–∞–∂–¥–æ–º—É —Ä–∞—É–Ω–¥—É

–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:

```text
üìä –ò–¢–û–ì–û–í–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê:
   –í—Å–µ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤: 2500
   –£—Å–ø–µ—à–Ω—ã—Ö: 2480 (99.20%)
   –û—à–∏–±–æ–∫: 20 (0.80%)
```

### RPS —Ç–µ—Å—Ç (Requests Per Second)

–î–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ API –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö –≤ —Å–µ–∫—É–Ω–¥—É:

```bash
cd bots
npm install
npm run rps
```

#### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã RPS —Ç–µ—Å—Ç–∞

```bash
# –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫ (100 RPS, 30 —Å–µ–∫—É–Ω–¥, endpoint: /api/auction/current)
npm run rps

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ endpoint –∏ RPS
npm run rps -- --endpoint=/api/round/current --rps=500 --duration=60

# –¢–µ—Å—Ç POST –∑–∞–ø—Ä–æ—Å–æ–≤ (—Å—Ç–∞–≤–∫–∏)
npm run rps -- --endpoint=/api/bet --method=POST --rps=50 --duration=30

# –ü–æ–ª–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
npm run rps -- \
  --endpoint=/api/auction/current \
  --method=GET \
  --rps=200 \
  --duration=60 \
  --warmup=10 \
  --user=rps_test_user
```

–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ RPS —Ç–µ—Å—Ç–∞—Ö —Å–º. [bots/RPS_TEST_README.md](bots/RPS_TEST_README.md)

### Load —Ç–µ—Å—Ç

–î–ª—è –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞—É–∫—Ü–∏–æ–Ω–∞:

```bash
cd bots
npm install
npm run load
```

Load —Ç–µ—Å—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–±–æ—Ç—É –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã –∞—É–∫—Ü–∏–æ–Ω–∞ –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π, –≤–∫–ª—é—á–∞—è —Å–æ–∑–¥–∞–Ω–∏–µ –∞—É–∫—Ü–∏–æ–Ω–∞, —Ä–∞—É–Ω–¥–æ–≤ –∏ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ —Å—Ç–∞–≤–æ–∫.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```text
tgsendauction/
‚îú‚îÄ‚îÄ backend/              # Backend API
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/      # MongoDB –º–æ–¥–µ–ª–∏ (User, Auction, Round, Bet, Transaction, Winner)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/    # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (AuctionService, RoundService, BetService, etc.)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ controllers/ # HTTP handlers
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes/      # Express routes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ jobs/        # Cron jobs –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞—É–Ω–¥–∞–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils/       # –£—Ç–∏–ª–∏—Ç—ã (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config/      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ app.ts       # Express –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îî‚îÄ‚îÄ tsconfig.json
‚îú‚îÄ‚îÄ frontend/             # Frontend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/  # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (AuctionDisplay, BetForm, TopBetsList)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/       # –°—Ç—Ä–∞–Ω–∏—Ü—ã (HomePage, ProfilePage, AdminPage)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils/       # –£—Ç–∏–ª–∏—Ç—ã (API –∫–ª–∏–µ–Ω—Ç)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ App.tsx      # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îî‚îÄ‚îÄ vite.config.ts
‚îú‚îÄ‚îÄ bots/                 # –ë–æ—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.ts     # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –±–æ—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ stress-test.ts # –°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ rps-test.ts  # RPS —Ç–µ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ auction-load-test.ts # Load —Ç–µ—Å—Ç –∞—É–∫—Ü–∏–æ–Ω–∞
‚îÇ   ‚îú‚îÄ‚îÄ RPS_TEST_README.md # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ RPS —Ç–µ—Å—Ç–∞–º
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ docker-compose.yml    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker
‚îî‚îÄ‚îÄ README.md
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫ –∞—É–∫—Ü–∏–æ–Ω–∞

```bash
# 1. –°–æ–∑–¥–∞—Ç—å –∞—É–∫—Ü–∏–æ–Ω (—á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –∏–ª–∏ API)
curl -X POST http://localhost:3000/api/auction \
  -H "Content-Type: application/json" \
  -H "X-User-Id: admin" \
  -d '{"name": "–ê—É–∫—Ü–∏–æ–Ω —Ä–æ–±—É–∫—Å–æ–≤ #1", "rewardAmount": 1000, "winnersPerRound": 100, "totalRounds": 30, "roundDurationMinutes": 60}'

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞—É–∫—Ü–∏–æ–Ω
curl -X POST http://localhost:3000/api/auction/{auctionId}/start \
  -H "X-User-Id: admin"
```

### 2. –£—á–∞—Å—Ç–∏–µ –≤ –∞—É–∫—Ü–∏–æ–Ω–µ

```bash
# 1. –ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å
curl -X POST http://localhost:3000/api/user/deposit \
  -H "Content-Type: application/json" \
  -H "X-User-Id: user123" \
  -d '{"amount": 50000}'

# 2. –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π —Ä–∞—É–Ω–¥
curl http://localhost:3000/api/round/current \
  -H "X-User-Id: user123"

# 3. –†–∞–∑–º–µ—Å—Ç–∏—Ç—å —Å—Ç–∞–≤–∫—É
curl -X POST http://localhost:3000/api/bet \
  -H "Content-Type: application/json" \
  -H "X-User-Id: user123" \
  -d '{"roundId": "...", "amount": 10000}'
```

### 3. –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª—è

```bash
curl http://localhost:3000/api/user/me \
  -H "X-User-Id: user123"
```

## –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

–†–∞—É–Ω–¥—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ cron job (–ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É), –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `backend/src/jobs/scheduler.ts`. 

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –Ω—É–∂–Ω–æ –ª–∏ –∑–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ–∫—É—â–∏–π —Ä–∞—É–Ω–¥
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π (—Ç–æ–ø-100 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ —Å—É–º–º–µ —Å—Ç–∞–≤–∫–∏)
- –ù–∞—á–∏—Å–ª—è–µ—Ç –ø—Ä–∏–∑—ã –ø–æ–±–µ–¥–∏—Ç–µ–ª—è–º (1000 —Ä–æ–±—É–∫—Å–æ–≤ –∫–∞–∂–¥–æ–º—É, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)
- –ü–µ—Ä–µ–Ω–æ—Å–∏—Ç –ø—Ä–æ–∏–≥—Ä–∞–≤—à–∏–µ —Å—Ç–∞–≤–∫–∏ –≤ —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞—É–Ω–¥ (–±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Å–ø–∏—Å–∞–Ω–∏—è)
- –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π —Ä–∞—É–Ω–¥, –µ—Å–ª–∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –∑–∞–≤–µ—Ä—à–µ–Ω –∏ –∞—É–∫—Ü–∏–æ–Ω –∞–∫—Ç–∏–≤–µ–Ω (–∫–∞–∂–¥—ã–µ 60 –º–∏–Ω—É—Ç, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ MongoDB

–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è standalone MongoDB –±–µ–∑ replica set. –í —ç—Ç–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ MongoDB —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è, –ø–æ—ç—Ç–æ–º—É:

- –ü—Ä–æ—Å—Ç—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (DEPOSIT, REFUND, PRIZE) –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –±–µ–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (BET) –∏—Å–ø–æ–ª—å–∑—É—é—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- –î–ª—è production —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å replica set –∏ –≤–∫–ª—é—á–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

### –ó–∞—â–∏—Ç–∞ –æ—Ç –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

- –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å `(userId, roundId)` –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å—Ç–∞–≤–∫–∏ –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–æ —Å–ø–∏—Å–∞–Ω–∏—è —Å—Ä–µ–¥—Å—Ç–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∞—Ç–æ–º–∞—Ä–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π MongoDB (`findOneAndUpdate` —Å —É—Å–ª–æ–≤–∏–µ–º)
- –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —á–µ—Ä–µ–∑ –ø–æ–ª–µ `version` –≤ –º–æ–¥–µ–ª–∏ Bet
- –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —É—á–∞—Å—Ç–∫–æ–≤ –∫–æ–¥–∞

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **Rate Limiting**:
  - Redis-based rate limiting —Å fallback –Ω–∞ in-memory (–¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏)
  - –û–±—â–∏–π –ª–∏–º–∏—Ç: 10000 –∑–∞–ø—Ä–æ—Å–æ–≤/15 –º–∏–Ω—É—Ç –Ω–∞ IP
  - –°—Ç–∞–≤–∫–∏: 1000 —Å—Ç–∞–≤–æ–∫/–º–∏–Ω—É—Ç—É –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –ü–æ–ø–æ–ª–Ω–µ–Ω–∏—è: 1000 –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–π/–º–∏–Ω—É—Ç—É –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ–±—Ö–æ–¥ –¥–ª—è load test –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–ø—Ä–µ—Ñ–∏–∫—Å `load_test_`)
  - –ó–∞–≥–æ–ª–æ–≤–æ–∫ `X-Bypass-RateLimit: true` –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**: Zod —Å—Ö–µ–º—ã –¥–ª—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **–°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è**: –ó–∞—â–∏—Ç–∞ –æ—Ç XSS –∏ –∏–Ω—ä–µ–∫—Ü–∏–π
- **CORS**: Whitelist –¥–æ–º–µ–Ω–æ–≤ (Telegram, Amvera, localhost –¥–ª—è development)
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∫–ª–∞—Å—Å—ã –æ—à–∏–±–æ–∫ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ HTTP –∫–æ–¥–∞–º–∏
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- **Helmet**: –ë–∞–∑–æ–≤—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **–ò–Ω–¥–µ–∫—Å—ã –ë–î**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –≤—Å–µ—Ö —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `select()`, `limit()`, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î
- **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã**: –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å —É—á–µ—Ç–æ–º –∏–Ω–¥–µ–∫—Å–æ–≤
- **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: Redis –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (—Ç–µ–∫—É—â–∏–π —Ä–∞—É–Ω–¥, —Ç–æ–ø-100)
- **Compression**: Gzip compression –¥–ª—è –≤—Å–µ—Ö –æ—Ç–≤–µ—Ç–æ–≤
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –ø–∞–º—è—Ç–∏ (`/metrics` endpoint)
- **–û—á–µ—Ä–µ–¥–∏**: Bull –¥–ª—è —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á (–æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞—É–Ω–¥–æ–≤, –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –ø—Ä–∏–∑–æ–≤)
